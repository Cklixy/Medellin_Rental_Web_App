import { getDb } from './db';
import bcrypt from 'bcryptjs';

const ALL_CARS = [
    {
        id: 1,
        name: 'Mercedes-Benz S-Class',
        category: 'Sed√°n de Lujo',
        image: '/car-sedan.jpg',
        price: 850000,
        seats: 5,
        transmission: 'Autom√°tico',
        fuel: 'Gasolina',
        features: ['WiFi', 'A/C', 'GPS', 'Cuero', 'Sonido Burmester'],
        description: 'El ep√≠tome del lujo alem√°n. Tecnolog√≠a de punta, confort excepcional y elegancia inigualable.',
        year: 2024,
        available: true,
    },
    {
        id: 2,
        name: 'Range Rover Vogue',
        category: 'SUV Premium',
        image: '/car-suv.jpg',
        price: 1200000,
        seats: 7,
        transmission: 'Autom√°tico',
        fuel: 'Diesel',
        features: ['WiFi', 'A/C', 'GPS', 'Panor√°mico', 'Aire suspensi√≥n'],
        description: 'La SUV m√°s emblem√°tica del mundo. Capacidad todoterreno con lujo brit√°nico.',
        year: 2024,
        available: true,
    },
    {
        id: 3,
        name: 'BMW M4 Competition',
        category: 'Deportivo',
        image: '/car-coupe.jpg',
        price: 950000,
        seats: 4,
        transmission: 'Autom√°tico',
        fuel: 'Gasolina',
        features: ['WiFi', 'A/C', 'GPS', 'Sonido Premium', 'Modo Sport+'],
        description: 'Rendimiento extremo con 510 CV. La deportividad alemana en su m√°xima expresi√≥n.',
        year: 2024,
        available: true,
    },
    {
        id: 4,
        name: 'Jaguar F-Type Convertible',
        category: 'Convertible',
        image: '/car-convertible.jpg',
        price: 1100000,
        seats: 2,
        transmission: 'Autom√°tico',
        fuel: 'Gasolina',
        features: ['WiFi', 'A/C', 'GPS', 'Descapotable', 'Escape deportivo'],
        description: 'Dise√±o brit√°nico atrevido con techo descapotable. Disfruta del viento en tu cara.',
        year: 2024,
        available: true,
    },
    {
        id: 5,
        name: 'Porsche Panamera',
        category: 'Sed√°n Deportivo',
        image: '/car-porsche.jpg',
        price: 980000,
        seats: 4,
        transmission: 'Autom√°tico',
        fuel: 'Gasolina',
        features: ['WiFi', 'A/C', 'GPS', 'Sport Chrono', 'PDK'],
        description: 'La perfecta combinaci√≥n entre deportividad y lujo. Un 4 puertas con alma de 911.',
        year: 2024,
        available: true,
    },
    {
        id: 6,
        name: 'Lamborghini Urus',
        category: 'Super SUV',
        image: '/car-lambo.jpg',
        price: 1800000,
        seats: 5,
        transmission: 'Autom√°tico',
        fuel: 'Gasolina',
        features: ['WiFi', 'A/C', 'GPS', 'Modo Corsa', '650 CV'],
        description: 'La Super SUV m√°s r√°pida del mundo. 650 CV de pura adrenalina italiana.',
        year: 2024,
        available: true,
    },
    {
        id: 7,
        name: 'Rolls Royce Ghost',
        category: 'Ultra Lujo',
        image: '/car-rolls.jpg',
        price: 3500000,
        seats: 5,
        transmission: 'Autom√°tico',
        fuel: 'Gasolina',
        features: ['WiFi', 'A/C', 'GPS', 'Estrellas', 'Puertas suicida'],
        description: 'El pin√°culo del lujo automotriz. Experiencia de conducci√≥n silenciosa y majestuosa.',
        year: 2024,
        available: true,
    },
    {
        id: 8,
        name: 'Ferrari 488 GTB',
        category: 'Supercar',
        image: '/car-ferrari.jpg',
        price: 2200000,
        seats: 2,
        transmission: 'Autom√°tico',
        fuel: 'Gasolina',
        features: ['WiFi', 'A/C', 'GPS', 'Modo Race', 'V8 Biturbo'],
        description: 'Icono italiano con motor V8 biturbo. 670 CV de pasi√≥n roja.',
        year: 2024,
        available: true,
    },
    {
        id: 9,
        name: 'Audi R8 V10',
        category: 'Supercar',
        image: '/car-audi-r8.jpg',
        price: 1950000,
        seats: 2,
        transmission: 'Autom√°tico',
        fuel: 'Gasolina',
        features: ['WiFi', 'A/C', 'GPS', 'V10', 'Quattro'],
        description: 'El superdeportivo alem√°n con motor V10. Tecnolog√≠a quattro para m√°ximo agarre.',
        year: 2024,
        available: true,
    },
    {
        id: 10,
        name: 'Bentley Continental GT',
        category: 'Gran Turismo',
        image: '/car-bentley.jpg',
        price: 2800000,
        seats: 4,
        transmission: 'Autom√°tico',
        fuel: 'Gasolina',
        features: ['WiFi', 'A/C', 'GPS', 'W12', 'Mulliner'],
        description: 'El gran turismo brit√°nico por excelencia. Lujo y potencia en perfecta armon√≠a.',
        year: 2024,
        available: true,
    },
    {
        id: 11,
        name: 'Maserati Quattroporte',
        category: 'Sed√°n de Lujo',
        image: '/car-maserati.jpg',
        price: 890000,
        seats: 5,
        transmission: 'Autom√°tico',
        fuel: 'Gasolina',
        features: ['WiFi', 'A/C', 'GPS', 'Sonido Bowers', 'Italiano'],
        description: 'Sed√°n italiano con alma deportiva. El lujo mediterr√°neo en su m√°xima expresi√≥n.',
        year: 2024,
        available: true,
    },
    {
        id: 12,
        name: 'Tesla Model S Plaid',
        category: 'El√©ctrico',
        image: '/car-tesla.jpg',
        price: 750000,
        seats: 5,
        transmission: 'Autom√°tico',
        fuel: 'El√©ctrico',
        features: ['WiFi', 'A/C', 'GPS', 'Autopilot', '1020 CV'],
        description: 'El sed√°n el√©ctrico m√°s r√°pido del mundo. 0-100 en 2 segundos. Futuro en movimiento.',
        year: 2024,
        available: true,
    },
    {
        id: 13,
        name: 'Cadillac Escalade',
        category: 'SUV Premium',
        image: '/car-escalade.jpg',
        price: 1100000,
        seats: 7,
        transmission: 'Autom√°tico',
        fuel: 'Gasolina',
        features: ['WiFi', 'A/C', 'GPS', 'Pantalla 38"', 'Americano'],
        description: 'El SUV americano m√°s ic√≥nico. Presencia imponente y lujo sin l√≠mites.',
        year: 2024,
        available: true,
    },
    {
        id: 14,
        name: 'McLaren 720S',
        category: 'Supercar',
        image: '/car-mclaren.jpg',
        price: 2400000,
        seats: 2,
        transmission: 'Autom√°tico',
        fuel: 'Gasolina',
        features: ['WiFi', 'A/C', 'GPS', '720 CV', 'Monocasco'],
        description: 'Ingenier√≠a brit√°nica extrema. 720 CV de pura emoci√≥n en un monocasco de carbono.',
        year: 2024,
        available: true,
    },
    {
        id: 15,
        name: 'Aston Martin DB11',
        category: 'Gran Turismo',
        image: '/car-aston.jpg',
        price: 1650000,
        seats: 4,
        transmission: 'Autom√°tico',
        fuel: 'Gasolina',
        features: ['WiFi', 'A/C', 'GPS', 'V8', 'James Bond'],
        description: 'El auto de James Bond. Elegancia brit√°nica con potencia deportiva.',
        year: 2024,
        available: true,
    },
    {
        id: 16,
        name: 'Lexus LX 600',
        category: 'SUV Premium',
        image: '/car-lexus.jpg',
        price: 980000,
        seats: 7,
        transmission: 'Autom√°tico',
        fuel: 'Gasolina',
        features: ['WiFi', 'A/C', 'GPS', 'Japon√©s', 'Fiabilidad'],
        description: 'Lujo japon√©s con fiabilidad legendaria. Confort y capacidad todoterreno.',
        year: 2024,
        available: true,
    },
    {
        id: 17,
        name: 'BMW X7',
        category: 'SUV Premium',
        image: '/car-x7.jpg',
        price: 1050000,
        seats: 7,
        transmission: 'Autom√°tico',
        fuel: 'Gasolina',
        features: ['WiFi', 'A/C', 'GPS', '7 plazas', 'Aleman'],
        description: 'El SUV m√°s grande de BMW. Lujo y espacio para toda la familia.',
        year: 2024,
        available: true,
    },
    {
        id: 18,
        name: 'Mercedes G-Wagon G63',
        category: 'Super SUV',
        image: '/car-gwagon.jpg',
        price: 2100000,
        seats: 5,
        transmission: 'Autom√°tico',
        fuel: 'Gasolina',
        features: ['WiFi', 'A/C', 'GPS', 'AMG', 'Icono'],
        description: 'El icono del off-road de lujo. Dise√±o atemporal con potencia AMG.',
        year: 2024,
        available: true,
    },
    {
        id: 19,
        name: 'Chevrolet Corvette C8',
        category: 'Deportivo',
        image: '/car-corvette.jpg',
        price: 720000,
        seats: 2,
        transmission: 'Autom√°tico',
        fuel: 'Gasolina',
        features: ['WiFi', 'A/C', 'GPS', 'V8', 'Americano'],
        description: 'El superdeportivo americano accesible. Motor central V8 de alto rendimiento.',
        year: 2024,
        available: true,
    },
    {
        id: 20,
        name: 'Mercedes AMG GT',
        category: 'Deportivo',
        image: '/car-amggt.jpg',
        price: 1450000,
        seats: 2,
        transmission: 'Autom√°tico',
        fuel: 'Gasolina',
        features: ['WiFi', 'A/C', 'GPS', 'AMG', 'Biturbo'],
        description: 'El deportivo AMG con motor biturbo. Agresividad alemana pura.',
        year: 2024,
        available: true,
    },
    {
        id: 21,
        name: 'Porsche Cayenne Coupe',
        category: 'SUV Deportivo',
        image: '/car-cayenne.jpg',
        price: 920000,
        seats: 5,
        transmission: 'Autom√°tico',
        fuel: 'Gasolina',
        features: ['WiFi', 'A/C', 'GPS', 'Coupe', 'Porsche'],
        description: 'El SUV deportivo de Porsche. Dise√±o coup√© con din√°mica de 911.',
        year: 2024,
        available: true,
    },
    {
        id: 22,
        name: 'BMW Serie 7',
        category: 'Sed√°n de Lujo',
        image: '/car-bmw7.jpg',
        price: 880000,
        seats: 5,
        transmission: 'Autom√°tico',
        fuel: 'Gasolina',
        features: ['WiFi', 'A/C', 'GPS', 'Pantalla trasera', 'Aleman'],
        description: 'La berlina de lujo de BMW. Tecnolog√≠a de vanguardia y confort supremo.',
        year: 2024,
        available: true,
    },
    {
        id: 23,
        name: 'Volvo XC90',
        category: 'SUV Premium',
        image: '/car-volvo.jpg',
        price: 780000,
        seats: 7,
        transmission: 'Autom√°tico',
        fuel: 'H√≠brido',
        features: ['WiFi', 'A/C', 'GPS', 'Seguridad', 'Sueco'],
        description: 'El SUV m√°s seguro del mundo. Dise√±o escandinavo y tecnolog√≠a h√≠brida.',
        year: 2024,
        available: true,
    },
    {
        id: 24,
        name: 'Porsche 911 Turbo S',
        category: 'Supercar',
        image: '/car-911.jpg',
        price: 1850000,
        seats: 4,
        transmission: 'Autom√°tico',
        fuel: 'Gasolina',
        features: ['WiFi', 'A/C', 'GPS', 'Turbo S', 'Icono'],
        description: 'El icono deportivo por excelencia. 650 CV de pura adrenalina alemana.',
        year: 2024,
        available: true,
    },
    {
        id: 25,
        name: 'Audi A8 L',
        category: 'Sed√°n de Lujo',
        image: '/car-a8.jpg',
        price: 820000,
        seats: 5,
        transmission: 'Autom√°tico',
        fuel: 'Gasolina',
        features: ['WiFi', 'A/C', 'GPS', 'Matrix LED', 'Aleman'],
        description: 'La berlina de lujo de Audi. Tecnolog√≠a matrix y confort de primera clase.',
        year: 2024,
        available: true,
    },
];

async function seed() {
    console.log('üå± Starting DB seed...');
    const db = await getDb();

    // Create default admin
    const adminId = crypto.randomUUID();
    const hashedPassword = await bcrypt.hash('admin123', 10);

    await db.run(
        `INSERT OR IGNORE INTO users (id, name, email, password, phone, role) VALUES (?, ?, ?, ?, ?, ?)`,
        [
            adminId,
            'Administrador',
            'admin@carrentalmedellin.com',
            hashedPassword,
            '+57 300 000 0000',
            'admin'
        ]
    );
    console.log('‚úÖ Admin user created/verified');

    // Insert cars
    let insertedCars = 0;
    for (const car of ALL_CARS) {
        const existing = await db.get('SELECT id FROM cars WHERE id = ?', [car.id]);
        if (!existing) {
            await db.run(
                `INSERT INTO cars (id, name, category, image, price, seats, transmission, fuel, features, description, year, available)
         VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)`,
                [
                    car.id,
                    car.name,
                    car.category,
                    car.image,
                    car.price,
                    car.seats,
                    car.transmission,
                    car.fuel,
                    JSON.stringify(car.features),
                    car.description,
                    car.year,
                    car.available ? 1 : 0
                ]
            );
            insertedCars++;
        }
    }
    console.log(`‚úÖ Seeded ${insertedCars} new cars.`);
    console.log('üå± Seed complete!');
}

seed().catch(console.error);
